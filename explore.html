<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore Shared Systems Â· Procedural Planet Studio</title>
    <link rel="icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/src/landing.css" />
    <link rel="stylesheet" href="/src/explore.css" />
  </head>
  <body class="explore-body">
    <div class="explore">
      <header class="explore__nav">
        <a class="explore__brand" href="/">
          <span class="logo-dot" aria-hidden="true"></span>
          <span class="logo-text">Procedural Planet Studio</span>
        </a>
        <div class="explore__actions">
          <a class="btn btn-ghost" href="/">Home</a>
          <a class="btn btn-secondary" href="/studio.html" data-launch-studio>Launch Studio</a>
        </div>
      </header>

      <main class="explore__main">
        <section class="explore__intro">
          <h1>Explore Shared Systems</h1>
          <p>
            Browse the latest creations from the community, preview them in real time, and jump straight into the
            studio to make them your own.
          </p>
        </section>

        <form class="explore__filters" id="explore-filters">
          <label class="explore__filter">
            <span class="explore__filter-label">Preset</span>
            <input type="text" id="filter-preset" name="preset" placeholder="Any" autocomplete="off" />
          </label>
          <label class="explore__filter">
            <span class="explore__filter-label">Seed</span>
            <input type="text" id="filter-seed" name="seed" placeholder="Any" autocomplete="off" />
          </label>
          <label class="explore__filter">
            <span class="explore__filter-label">Sort</span>
            <select id="filter-sort" name="sort">
              <option value="recent">Newest</option>
              <option value="popular">Most visited</option>
            </select>
          </label>
          <div class="explore__filter-actions">
            <button type="submit" class="btn btn-secondary">Apply</button>
            <button type="button" id="filters-reset" class="btn btn-ghost">Reset</button>
          </div>
        </form>

        <section class="explore__content">
          <div class="explore__list" id="explore-list" role="list"></div>
          <aside class="explore__preview" aria-live="polite">
            <div class="explore__preview-frame">
              <iframe
                id="explore-preview"
                title="Planet preview"
                loading="lazy"
                allow="accelerometer; fullscreen"
                src=""
              ></iframe>
              <div class="explore__preview-empty" id="preview-empty">Select a system to preview</div>
            </div>
            <div class="explore__preview-details" id="preview-details"></div>
            <div class="explore__preview-actions">
              <button id="open-in-studio" class="explore__button" type="button" disabled>Open in Studio</button>
              <button id="copy-share-id" class="explore__button explore__button--ghost" type="button" disabled>
                Copy Share Code
              </button>
            </div>
          </aside>
        </section>

        <nav class="explore__pagination" aria-label="Pagination controls">
          <button id="prev-page" class="explore__page-button" type="button" disabled>Previous</button>
          <span id="pagination-info">Page 1 of 1</span>
          <button id="next-page" class="explore__page-button" type="button" disabled>Next</button>
        </nav>
      </main>
    </div>

    <script>
      (function () {
        const params = new URLSearchParams(window.location.search);
        const previewCode = params.get('id');
        if (previewCode) {
          document.querySelectorAll('[data-launch-studio]').forEach((link) => {
            link.setAttribute('href', `/studio.html#${previewCode}`);
          });
        }
      })();
    </script>
    <script type="module" src="/src/explore.js"></script>
  </body>
</html>
